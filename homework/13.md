# Домашнее задание 10

## Практика

Необходимо сделать `django` приложение - поиск и покупка билетов на автобусы.
Мы реализуем наше приложение как REST API.
Клиенсткая часть не требуется.

### Функциональные требования

- В приложении должны быть три основные сущности: пользователь (стандартный `django`), рейс (время и дата, количество мест, направление, место отправления, номер рейса, цена в рублях), билет (рейс, пользователь, дата покупки)
- В приложении будут следующие endpoints: auth (для регистрации пользователей и получения JWT токена аутентификации), routes (для поиска и просмотра рейсов) и tickets (для покупки и просмотра билета)
- В нашем приложении есть только три рейса (данные можно придумать самим)
- Пользователь может свободно зарегестрироваться в нашем сервисе
- Для любых действий кроме регистрации - нужен JWT токен
- При повторной регистрации с правильными данными - работает просто аутентификация
- При успешной регистрации/аутентификации пользователю приходит JWT токен для дальнейших запросов
- Аутентифицированный пользователь может посмотреть список всех рейсов
- Аутентифицированный пользователь может запросить поиск бидетов по дате, месту отправления и пункту назначения (логическое "И")
- Аутентифицированный пользователь может купить билет на выбранный рейс
- Аутентифицированный пользователь не может совершить покупку, если уже выкуплены все места на данный рейс
- Аутентифицированный пользователь может посмотреть все свои билеты

### Технические требования

- Код должен быть покрыт тестами, хотя бы на 80%
- Для тестирования должен использоваться travis

### Дополнительно

- Лучше использовать шаблон для `django` приложений: https://github.com/wemake-services/wemake-django-template С ним будет проще, если разобраться


### Форма сдачи

Создайте новый репозиторий, пришлите на него ссылку.


## Теория

### REST

- Статья на русском: http://blogger.sapronov.me/2014/02/rest.html
- Статья на хабре: https://habrahabr.ru/post/38730/
- (!) Подробная статья: https://code.tutsplus.com/ru/tutorials/a-beginners-guide-to-http-and-rest--net-16340

### JWT

- Что такое JWT? https://habrahabr.ru/post/340146/
- Главный ресурс о JWT: https://jwt.io/

### UUID

- Определение: https://ru.wikipedia.org/wiki/UUID
- UUID в django: https://docs.djangoproject.com/en/1.11/ref/models/fields/#uuidfield

### Полезные инструменты

- httpie - консольная утилита https://httpie.org/
- postman - плагин для браузера и приложение https://www.getpostman.com/
- paw - самое крутое приложение, но платное https://paw.cloud/

### djangorestframework

- Документация: http://www.django-rest-framework.org/#quickstart

### django-filter

- Документация: https://django-filter.readthedocs.io/en/1.1.0/

### djangorestframework-jwt

- Репозиторий: https://github.com/GetBlimp/django-rest-framework-jwt
